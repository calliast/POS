<%- include('../layouts/header') %> 
<%- include('../layouts/nav') %>

<!-- Begin Page Content -->
<div class="container-fluid">

    <!-- Page Heading -->
        <h1 class="h3 mb-2 text-gray-800">Goods</h1>

  <div id="suppliers-section" class="card shadow mb-4">
    <div class="card-header py-3">
      <h6 id="suppliers-form-title" class="m-0 font-weight-bold text-primary">
        Form edit
      </h6>
    </div>
    <div class="card-body">
      <form id="suppliers-form" action="/suppliers/add/" method="POST">
        <div class="form-group row">
          <label for="name" class="col-sm-2 col-form-label">Name</label>
          <div class="col-sm-10">
          <input
              name="name"
              type="text"
              class="form-control"
              id="name"
              placeholder="Name"
              required
            />
          </div>
        </div>
        <div class="form-group row">
          <label for="address" class="col-sm-2 col-form-label">Address</label>
          <div class="col-sm-10">
            <textarea name="address" type="text" class="form-control" id="address" rows="3" required></textarea>
          </div>
        </div>
        <div class="form-group row">
          <label for="phone" class="col-sm-2 col-form-label"
            >Phone</label
          >
          <div class="col-sm-10">
            <input
              name="phone"
              type="text"
              class="form-control"
              id="phone"
              placeholder="Phone Number"
              required
            />
          </div>
        </div>
      </form>
    </div>
    <div class="card-footer">
      <button
        id="save-btn"
        form="suppliers-form"
        type="submit"
        class="btn btn-success btn-icon-split"
      >
        <span class="icon text-white-50">
          <i class="fas fa-database"></i>
        </span>
        <span class="text">Save</span>
      </button>
      <a
        href="/suppliers"
        class="btn btn-warning btn-icon-split"
        id="back-btn"
      >
        <span class="icon text-white-50">
          <i class="fas fa-undo"></i>
        </span>
        <span class="text">Back</span>
      </a>
    </div>
  </div>
</div>
</div>
<!-- End of Main Content -->

  <script>
    $("document").ready(function () {
      // Submit-event
      // $('#goods-form').submit(function() {
      //   const barcode = $('#barcode').val()
      //   const name = $('#barcode').val()
      //   const stock = $('#barcode').val()
      //   const unit = $('#barcode').val()
      //   const purchaseprice = $('#barcode').val()
      //   const sellingprice = $('#barcode').val()
      //   const picture = $('#barcode').val()
      //   console.log();
      // })

      // barcode-Event - Check if barcode already exists
      // $("#barcode").change(function () {
      //   const barcode = $(this).val();

      //   if (barcode === $("#barcode").prop("data-id")) {
      //     $("input#barcode").removeClass("is-invalid").addClass("is-valid");
      //     $("#barcode-valid").html("Barcode remain unchanged.");
      //   } else if (barcode) {
      //     barcodeCheck(barcode, $(this).prop("data-id"));
      //   } else {
      //     $("input#barcode").removeClass("is-valid").addClass("is-invalid");
      //     $("#barcode-invalid").html("Barcode is required.");
      //   }
      // });

      // const barcodeCheck = (barcode, checkTag) => {
      //   $.ajax({
      //     method: "POST",
      //     url: `http://localhost:3023/goods/data`,
      //     dataType: "json",
      //     data: {
      //       barcode,
      //       checkTag,
      //     },
      //   })
      //     .done(function (response) {
      //       console.log(response);
      //       if (response.data) {
      //         $("input#barcode").removeClass("is-invalid").addClass("is-valid");
      //       } else {
      //         $("input#barcode").removeClass("is-valid").addClass("is-invalid");
      //         $("#barcode-invalid").html("Barcode already used.");
      //       }
      //     })
      //     .fail(function (error) {
      //       alert("gagal bro");
      //     });
      // };
    });
  </script>

<%- include('../layouts/footer') %> 